# ============================================================
# .env.sample
#
# LOCAL development environment variables for XPLAIN.
#
# SAFE TO COMMIT:
# - No credentials
# - No private bucket names
#
# Everyone should copy:
#   cp .env.sample .env
# and then edit ONLY the lines they need.
#
# ðŸš¨ IMPORTANT:
# This project must NEVER load models from the internet.
# Models must be local or downloaded from GCS.
# ============================================================


# -----------------------------
# Model selection / loading
# -----------------------------

# Which model family to use in xplain_package.models.registry
# If we switch family later, change only this.
MODEL_FAMILY=blip

# Optional finetuned model in GCS.
# If set, scripts/entrypoint.sh downloads it into LOCAL_MODEL_DIR
# Example:
# GCS_MODEL_URI=gs://my-bucket/models/cxiu_blip_baseline
GCS_MODEL_URI=

# Where the model MUST exist locally (inside repo or after GCS download)
# Put your finetuned BLIP folder here.
LOCAL_MODEL_DIR=models/cxiu_blip_baseline

# ðŸš« Deprecated / NOT USED.
# Kept only so old env files don't crash.
# Leave empty.
HF_MODEL_NAME=

# Explicit rule flag. Always false.
ALLOW_HF_FALLBACK=false


# -----------------------------
# Inference parameters
# -----------------------------

# Beam search for generation
BEAM_SIZE=3

# Max number of new tokens in output text
MAX_NEW_TOKENS=128


# -----------------------------
# Runtime / device / logs
# -----------------------------

# Force device if you want:
# DEVICE=cpu
# DEVICE=cuda
DEVICE=

# Package logging level
LOG_LEVEL=INFO


# -----------------------------
# FastAPI / local run
# -----------------------------

# Local uvicorn port when running directly or via Docker.
# (Cloud Run sets PORT automatically; local can use this.)
PORT=8080


# -----------------------------
# (Optional) GCP metadata
# Useful for Makefile + scripts, not required by code.
# -----------------------------

GCP_PROJECT=project-id-123456
GCP_REGION=europe-west1

# Artifact Registry repo + image name
DOCKER_REPO_NAME=docker
DOCKER_IMAGE_NAME=api

# Default Cloud Run memory target
GAR_MEMORY=2Gi

# Local Docker port mapping
DOCKER_LOCAL_PORT=8080
